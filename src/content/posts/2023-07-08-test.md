---
template: blog-post
title: "With Discord Comes Focus: Building a Discord Bot"
slug: /discord-bot
date: 2023-07-08 16:08
description: discord bot
featuredImage: /assets/143c4584-3731-440a-b1ff-9286bb22249b.png
---
<html>
<head>
	<title>Table of Contents</title>
</head>
<body>
	<h1>Table of Contents</h1>
	<ol>
		<!-- Link to section 1: Origin of the idea -->
		<li><a href="#section1">Origin of the idea</a></li>
		<!-- Link to section 2: Potions, please! -->
		<li><a href="#section2">Potions, please!</a></li>
		<!-- Link to section 3: Discord Discovery -->
		<li><a href="#section3">Discord Discovery</a></li>
		<!-- Link to section 4: Practicing my Python Parser-tongue-->
		<li><a href="#section4">Practicing my Python Parser-tongue</a></li>
		<!-- Link to section 5: Designing the Dashboard-->
		<li><a href="#section5">Designing the Dashboard</a></li>
	</ol>

<!--StartFragment-->

<!-- Section 1: Origin of the idea --> 

<h2 id="section1">Origin of the idea</h2> 

<p>

W﻿ith the release of Blizzard's Diablo 4 came plenty of demon-slaying and dopamine hits watching my experience bar fill up. As the grind to level 100 took more experience the higher we got, we soon realised that there were potions available in-game that would increase our exp. gains by 5%. We began applying the effect to our characters but soon realised that the potions expired after 30 minutes. While this usually wouldn't be a problem we became too focused on defeating demons that we forgot to activate the potions buff every 30 minutes, resulting in a significant XP loss.

S﻿ome of my friends opted to put timers on their phones - but where's the fun in that?

<!--StartFragment-->

<!-- Section 2: Potions, please! -->

<h2 id="section2"> Potions, please! </h2> 

<p>

A﻿ solution seemed simple and came from a question: what was always open when playing Diablo 4 with friends? 

**M﻿onitor 1:** Diablo 4 (obviously)

**M﻿onitor 2:** Discord/Diablo 4 guide

H﻿aving used Discord for many years I was familiar with its support of bots: music-playing, game hosting, information gathering, you name it and there was probably a bot for it.

My idea was to create a bot that pinged my discord server and mentioned my fellow Diablo 4 demon-slayers discord usernames so they would get a notification to remind them it was time to guzzle & grind.

A﻿ few more questions popped up during ideation:

1. H﻿ow can I securely store any credentials required?
2. H﻿ow can I implement this so it is always on?
3. C﻿ould I stretch the functionality to do other things such as share music?

S﻿o my discovery phase began.

<!--StartFragment-->

<!-- Section 3: Discord Discovery -->

<h2 id="section3"> Discord Discovery</h2> 

<p>

A﻿fter some initial googling I realised to create a Discord Bot I would need to get familiar with the Discord Developer Portal.

I quickly learnt that each "entity" had its own identifier (myself as a user, each voice/text channel, each bot) and my code would need to either reference each ID or I'd need to make it dynamic enough to recognise when a command was entered, such as '/play \[search term here]'.

A﻿nother important learning was the use of bot tokens, which would allow my code to reference my bot and have it perform commands. However best practice is to not disclose this token as it could enable malicious code to be executed using my bot. Through my work I had some experience with the keyring python library, a cryptography library that allows for the encryption of sensitive information so I decided to use it in my main code block to remove the direct reference to a bot key.

```python
#retrieves the token assigned to the profile "system" & the username "DISCORD_BOT_TOKEN"
token = keyring.get_password("system", "DISCORD_BOT_TOKEN") 
#runs the bot using the provided token
bot.run(token)
```

A﻿fter implementing this into my code I attempted to run it and voila - HummBot was born! My first bot iteration was a success and it tagged my discord channel every 30 minutes as required.



<!--StartFragment-->

<!-- Section 4: What is my purpose? -->

<h2 id="section4"> What is my purpose?</h2> 

<p>